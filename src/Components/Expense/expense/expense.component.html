<div class="expense-container">
    <div class="header">
      <h2>Expenses</h2>
      <button class="add-expense-button" (click)="openAddExpenseModal()">+ Add Expense</button>
    </div>
  
    <!-- Table for displaying expenses -->
    <table class="expense-table">
      <thead>
        <tr>
          <th>Expense Name</th>
          <th>Amount</th>
          <th>Category</th>
          <th>Created Date</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let expense of expenses">
          <td>{{ expense.expenseName }}</td>
          <td>{{ expense.amount | currency: 'INR'  }}</td>
          <td>{{ expense.subCategoryName || 'N/A' }}</td>
          <td>{{ expense.createdDate | date: 'short' }}</td>
        </tr>
      </tbody>
    </table>
  
    <!-- Add Expense Modal -->
    <div class="modal" *ngIf="isModalOpen">
      <div class="modal-content">
        <h3>Add New Expense</h3>
        <form>
          <label>Expense Name:</label>
          <input
            type="text"
            [(ngModel)]="newExpense.expenseName"
            [ngModelOptions]="{ standalone: true }"
            placeholder="Enter expense name"
          />
  
          <label>Amount:</label>
          <input
            type="number"
            [(ngModel)]="newExpense.amount"
            [ngModelOptions]="{ standalone: true }"
            placeholder="Enter amount"
          />
  
          <label>SubCategory:</label>
          <input
            type="text"
            [(ngModel)]="searchText"
            [ngModelOptions]="{ standalone: true }"
            (input)="onSearchTextChanged()"
            placeholder="Search subcategories"
          />
          <div class="dropdown">
            <div
              *ngFor="let category of filteredSubCategories"
              class="dropdown-item"
              (click)="selectSubCategory(category.id, category.name)"
            >
              {{ category.name }}
            </div>
          </div>
  
          <p *ngIf="selectedSubCategory">Selected: {{ selectedSubCategory }}</p>
  
          <div class="modal-actions">
            <button type="button" class="add-button" (click)="addExpense()">Add</button>
            <button type="button" class="cancel-button" (click)="closeModal()">Cancel</button>
          </div>
        </form>
      </div>
    </div>
  </div>
  