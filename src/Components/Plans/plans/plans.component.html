<div class="search-pagination-bar">
  <!-- Search Bar -->
  <input
    type="text"
    [(ngModel)]="searchQuery"
    placeholder="Search plans..."
    class="search-input"
  />
  <!-- Pagination Controls -->
  <div class="pagination-controls">
    <button
      (click)="currentPage = currentPage - 1"
      [disabled]="currentPage === 1"
    >
      Previous
    </button>
    <span>Page {{ currentPage }} of {{ totalPages }}</span>
    <button
      (click)="currentPage = currentPage + 1"
      [disabled]="currentPage === totalPages"
    >
      Next
    </button>
  </div>
</div>

<div class="plan-container">
  <!-- Plan Cards -->
  <div
    class="plan-card"
    *ngFor="let plan of filteredPlans"
    (click)="navigateToPlanDetails(plan)"
  >
    <h3>{{ plan.name }}</h3>
    <p>â‚¹{{ plan.minimumIncome }}</p>
    <p>Status: {{ plan.isActive ? "Active" : "Inactive" }}</p>
  </div>

  <!-- Add Plan Card -->
  <div class="plan-card add-plan-card" (click)="openAddPlanPopup()">
    <h3>+ Add Plan</h3>
  </div>
</div>

<!-- Add New Plan Modal -->
<div class="modal" *ngIf="isAddPlanPopupOpen">
  <div class="modal-content">
    <h2>Add New Plan</h2>
    <form (ngSubmit)="submitPlan()">
      <label for="name">Plan Name</label>
      <input
        type="text"
        id="name"
        [(ngModel)]="newPlan.name"
        name="name"
        required
      />

      <label for="minimumIncome">Minimum Income</label>
      <input
        type="number"
        id="minimumIncome"
        [(ngModel)]="newPlan.minimumIncome"
        name="minimumIncome"
        required
      />

      <div class="modal-actions">
        <button type="submit">Add</button>
        <button type="button" (click)="closeAddPlanPopup()">Cancel</button>
      </div>
    </form>
  </div>
</div>
